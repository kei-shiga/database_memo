# 【Oracle】フィールド情報の取得

テーブル情報の取得と同じように、SYS スキーマのテーブルから取得できます.

## フィールド情報の取得

PRIMARY KEY となっているフィールドは IS_PK が `1` となり、IDENTITY のフィールドは IDENTITY_COLUMN が `YES` となります.
GENERATED ALWAYS AS IDENTITY, GENERATED BY DEFAULT AS IDENTITY は Oracle 12c 以降で使用できます.

```
SELECT 
    A.COLUMN_NAME AS FIELD_NAME, 
    A.DATA_TYPE AS FIELD_TYPE, 
    A.DATA_LENGTH AS FIELD_SIZE, 
    DECODE(C.POSITION, NULL, 0, 1) AS IS_PK, 
    A.IDENTITY_COLUMN,
    A.NULLABLE,
    A.DATA_PRECISION, 
    A.DATA_SCALE 
FROM 
    USER_TAB_COLUMNS A 
    LEFT OUTER JOIN USER_CONSTRAINTS B ON A.TABLE_NAME = B.TABLE_NAME AND B.CONSTRAINT_TYPE = 'P' 
    LEFT OUTER JOIN USER_CONS_COLUMNS C ON B.CONSTRAINT_NAME = C.CONSTRAINT_NAME AND A.COLUMN_NAME = C.COLUMN_NAME 
WHERE 
    A.TABLE_NAME = :TABLE_NAME 
ORDER BY 
    A.TABLE_NAME, 
    A.COLUMN_ID
```
